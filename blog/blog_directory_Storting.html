<!DOCTYPE HTML>
<html>

<head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <link rel="stylesheet" type="text/css" href="../css/style.css">
    <!--<script src="http://code.jquery.com/jquery-latest.js"></script>-->
    <script src="../css/jquery-latest.js"></script>
    <style type="text/css">
    </style>
    <title>Welcome to My Blog (with Music if you like)</title>
    <style type="text/css">
        .blog_sorting p {
            width: 1024px;
            margin: 0 auto;
        }

        .blog_sorting table {
            border: solid 1px white;
            background-color: bisque;
            border-collapse: collapse;
            width: 100%;
            cursor: default;
        }

        .blog_sorting tr {
            border: solid 1px #666;
            height: 30px;
        }

        .blog_sorting table thead tr {
            background-color: rgb(240, 157, 4);
        }

        .blog_sorting td {
            border: solid 1px #666;

        }

        .blog_sorting th {
            border: solid 1px #666;
            text-align: center;
            cursor: pointer;
        }

        .sequence {
            text-align: center;
        }

        .blog_sorting table td a {
            display: block;
            color: black;
            text-align: center;
            padding: 0;
            overflow: hidden;
            text-decoration: none;
        }

        .blog_sorting table td :hover {
            background-color: rgb(255, 203, 107);
        }
    </style>
</head>

<body>
    <script src="./blog_top.js"></script>

    <p style="text-align: center; font-size:xx-large;"><strong>Welcome to My Personal Blog📝</strong></p>
    <br /> <br />
    &ensp;&ensp;&ensp;⬇ <i>Sort Data on Header Click</i>
    <div class="blog_sorting">
        <p>
        <table id="tableSort">
            <thead>
                <tr>
                    <th type="number">No.</th>
                    <th type="string">Blog 🔗 </th>
                    <th type="number">Date 🗓️ </th>
                    <th type="string">Type 📚 </th>
                </tr>
            </thead>
            <tbody>

                <tr class="hover">
                    <td class="sequence">0</td>
                    <td style="text-align: center;">Started programming</td>
                    <td>2018.09-2019.12</td>
                    <td>Visual Basic</td>
                </tr>
                <tr class="hover">
                    <td class="sequence">1</td>
                    <td><a href="./blog1.html">Typing-Game</a></td>
                    <td>2021.09-2021.12</td>
                    <td>C</td>
                </tr>
                <tr>
                    <td class="sequence">2</td>
                    <td><a href="./blog2.html">Supermarket-Management-System</a></td>
                    <td>2022.04</td>
                    <td>C++</td>
                </tr>
                <tr>
                    <td class="sequence">3</td>
                    <td><a href="./blog3.html">MIT6.837-CG-Fall2004-Assignment</a></td>
                    <td>2022.07-Till Now</td>
                    <td>C++, OpenGL</td>
                </tr>
                <tr>
                    <td class="sequence">4</td>
                    <td><a href="./blog4.html">Database Design Project</a></td>
                    <td>2022.08-Till Now</td>
                    <td>C++</td>
                </tr>
                <tr>
                    <td class="sequence">5</td>
                    <td><a href="./blog5.html">Starting my Personal Page and Blog (with Update Details)</a></td>
                    <td>2022.08-2022.09</td>
                    <td>HTML, CCS, js</td>
                </tr>
                <tr>
                    <td class="sequence">6</td>
                    <td><a href="./blog6.html"> Gold Medal in Huawei Tech Arena 2022 </a></td>
                    <td>2022.10.20-2022.11.26</td>
                    <td>C and C++, Compression, Concurrent</td>
                </tr>
                <tr>
                    <td class="sequence">7</td>
                    <td><a href="./blog7.html"> Top 2 Team in Mercuria Hackathon 2022 </a></td>
                    <td>2022.12.16-2022.12.18</td>
                    <td>Python, Data Analysis, Route-Planning</td>
                </tr>
                <tr>
                    <td class="sequence">8</td>
                    <td><a href="./blog8.html"> Machine Learning and Real World data </a></td>
                    <td>2023.1.9-Present</td>
                    <td>Python, Numpy, kNN, Softmax, SVM classifier ...</td>
                </tr>
                <tr>
                    <td class="sequence">9</td>
                    <td><a href="./blog9.html">Priest Beneath-Game</a></td>
                    <td>2023.2.10-2023.2.12</td>
                    <td>Unity, C#, Game-Dev</td>
                </tr>
            </tbody>
        </table>
    </div>
    </p>
    <script type="text/javascript">
        $(document).ready(function () {
            var tableObject = $('#tableSort');// get 
            var tbHead = tableObject.children('thead');// table-thead
            var tbHeadTh = tbHead.find('tr th');//thead-tr-th
            var tbBody = tableObject.children('tbody');// table-tbody
            var tbBodyTr = tbBody.find('tr');// tbody-tr
            var sortIndex = -1; //initialize
            tbHeadTh.each(function () {//for each thead tr th
                var thisIndex = tbHeadTh.index($(this));//获取th所在的列号
                //鼠标移除和聚焦的效果，不重要
                $(this).mouseover(function () { //remove the mouse
                    tbBodyTr.each(function () {//编列tbody下的tr
                        var tds = $(this).find("td");//获取列号为参数index的td对象集合
                        $(tds[thisIndex]).addClass("hover");
                    });
                }).mouseout(function () { //鼠标聚焦时间
                    tbBodyTr.each(function () {
                        var tds = $(this).find("td");
                        $(tds[thisIndex]).removeClass("hover");
                    });
                });

                $(this).click(function () {  //mouse
                    var dataType = $(this).attr("type"); // type of this col
                    checkColumnValue(thisIndex, dataType); //sorting function
                });
            });

            //display
            $("tbody tr").removeClass();// tbody tr css
            $("tbody tr").mouseover(function () {
                $(this).addClass("hover");
            }).mouseout(function () {
                $(this).removeClass("hover");
            });

            //Sorting the tbl
            function checkColumnValue(index, type) {
                var trsValue = new Array();  // Array
                tbBodyTr.each(function () { // for each tr
                    var tds = $(this).find('td');//all td   

                    // 当前索引的 值，和当前行的值
                    trsValue.push(type + ".separator" + $(tds[index]).html() + ".separator" + $(this).html());
                    $(this).html("");//empty current col
                });
                var len = trsValue.length;//all length
                if (index == sortIndex) {//sortIndex =-1
                    trsValue.reverse();//???
                } else {
                    for (var i = 0; i < len; i++) {
                        type = trsValue[i].split(".separator")[0];// type
                        for (var j = i + 1; j < len; j++) {
                            value1 = trsValue[i].split(".separator")[1];// current value
                            value2 = trsValue[j].split(".separator")[1];// the next value
                            if (type == "number") {
                                //js empty->0
                                value1 = value1 == "" ? 0 : value1;
                                value2 = value2 == "" ? 0 : value2;
                                //parseFloat()  return float
                                //the first char is not a num parseFloat() return NaN。
                                if (parseFloat(value1) > parseFloat(value2)) {
                                    var temp = trsValue[j];
                                    trsValue[j] = trsValue[i];
                                    trsValue[i] = temp;
                                }
                            } else {
                                //JavaScript localeCompare()  
                                // if stringObject < target ->   < 0
                                if (value1.localeCompare(value2) > 0) {//Not suitable for Google Browser
                                    var temp = trsValue[j];
                                    trsValue[j] = trsValue[i];
                                    trsValue[i] = temp;
                                }
                            }
                        }
                    }
                }
                for (var i = 0; i < len; i++) {
                    //insert back to the table
                    //:eq(index) 匹配一个给定索引值的元素
                    $("tbody tr:eq(" + i + ")").html(trsValue[i].split(".separator")[2]);
                    //console.log($("tbody tr:eq(" + i + ")").html())
                }
                sortIndex = index;
            }

        })
    </script>
     
    <!--  End of the blog  -->
    <script src="./blog_footer.js"></script>
</body>

</html>